"use strict";(self.webpackChunkpdjr_skplugin_alarm_manager=self.webpackChunkpdjr_skplugin_alarm_manager||[]).push([[857],{810:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var s=a(624),n=a.n(s),l=a(264),i=a(985);class o extends n().Component{constructor(e){super(e),this.type=e.type||"text",this.name=e.name,this.value=e.value,this.label=e.label,this.radios=e.radios,this.text=e.text,this.options=e.options,this.rows=e.rows||"12",this.label_style={lineHeight:"36px"},this.onChangeCallback=e.onChangeCallback}render(){var e=this.label?"6":"12";return n().createElement(l.cw,{row:!0},this.label?n().createElement(l.JX,{md:e},n().createElement(l.__,{style:this.label_style,htmlFor:this.name},this.label)):"",n().createElement(l.JX,{md:e},"checkbox"==this.type?n().createElement(l.II,{type:"checkbox",name:this.name,onChange:e=>this.state.onChangeCallback(e.target.value),checked:this.value}):"","multiselect"==this.type?n().createElement(i.ZP,{name:this.name,options:this.options,defaultValue:this.value,value:this.value,isMulti:!0,className:"basic-multi-select",classNamePrefix:"select",onChange:e=>this.onChangeCallback(e)}):"","text"==this.type?n().createElement(l.II,{type:"text",name:this.name,onChange:e=>this.onChangeCallback(e.target.value.trim()),value:this.value}):"","textarea"==this.type?n().createElement("textarea",{name:this.name,rows:this.rows,wrap:"off",style:{width:"100%"},value:this.value,onChange:e=>this.onChangeCallback(e.target.value)}):"",this.text?n().createElement(l.R9,{color:"muted"},this.text):""))}}const h=o;class r extends n().Component{constructor(e){console.log(JSON.stringify(e,null,2)),super(e),this.state={ignorePaths:e.configuration.ignorePaths.join("\n"),digestPath:e.configuration.digestPath,outputs:e.configuration.outputs,defaultMethods:Object.keys(e.configuration.defaultMethods).reduce(((t,a)=>{t[a]=e.configuration.defaultMethods[a].map((e=>({label:e,value:e})))}),{})},this.onChangeIgnorePaths=this.onChangeIgnorePaths.bind(this),this.onChangeDigestPath=this.onChangeDigestPath.bind(this),this.onChangeOutputs=this.onChangeOutputs.bind(this),this.onChangeDefaultMethods=this.onChangeDefaultMethods.bind(this)}render(){return n().createElement(l.l0,{className:"square rounded border",style:{padding:"5px"}},n().createElement(l.cw,{row:!0,style:{height:"300px"}},n().createElement(l.JX,null,n().createElement(h,{type:"textarea",name:"ignorePaths",label:"Ignore paths",key:this.state.ignorePaths,value:this.state.ignorePaths,rows:"4",wrap:"off",style:{width:"100%"},onChangeCallback:e=>this.changeIgnorePaths(e)}),n().createElement(h,{type:"text",name:"digestPath",label:"Digest path",value:this.state.resourceType,text:"",onChangeCallback:this.onChangeResourceType}),n().createElement(DefaultMethods,{value:this.defaultMethods,onChangeCallback:this.onChangeDefaultMethods}))),n().createElement(l.cw,{row:!0},n().createElement(l.JX,null,n().createElement(l.Si,{style:{justifyContent:"space-between"}},n().createElement(l.Si,null,n().createElement(l.zx,{size:"sm",color:"primary",onClick:e=>{e.preventDefault(),this.onSubmit()}},n().createElement("i",{className:"fa fa-save"})," Save "),"Â ",n().createElement(l.zx,{size:"sm",color:"primary",onClick:e=>{e.preventDefault(),this.onCancel()}},n().createElement("i",{className:"fa fa-ban"})," Cancel ")),n().createElement(l.Si,null,n().createElement(l.zx,{size:"sm",color:"danger",onClick:e=>{e.preventDefault(),this.onCompose()}},n().createElement("i",{className:"fa fa-save"})," Compose "),"Â ")))))}restoreState(){this.setState({resourceType:this.props.configuration.resourceType,startDelay:this.props.configuration.startDelay,excludePaths:this.props.configuration.excludePaths.join(", "),persist:this.props.configuration.persist})}onChangeIgnorePaths(e){this.setState({ignorePaths:e})}onChangeDigestPath(e){this.setState({digestPath:e})}onChangeOutputs(e){}onChangeDefaultMethods(e,t){Object.keys(this.state.defaultMethods).reduce(((a,s)=>{a[s]=s===e?t:this.state.defaultMethods[s]}),{})}onSubmit(){this.save({ignorePaths:this.state.ignorePaths.split("\n"),digestPath:this.state.digestPath,outputs,defaultMethods:Object.keys(this.state.defaultMethods).reduce(((e,t)=>{e[t]=this.state.defaultMethods[t].map((e=>e.value))}),{})})}onCancel(){this.save(this.props.configuration)}onSubscribe(){}}const c=r,u=e=>n().createElement(l.Zb,null,n().createElement(l.Ol,null,"Alarm Manager Configuration"),n().createElement(l.eW,null,n().createElement("div",null,n().createElement("div",{style:{width:"100%"}},n().createElement(c,{configuration:e.configuration,save:t=>e.save(t)})))))}}]);